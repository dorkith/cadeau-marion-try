<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Mot de passe impossible : MÃ©diapart</title>
  <style>
    body {
      background-color: #111;
      color: white;
      font-family: sans-serif;
      padding: 20px;
    }
    input, button {
      padding: 10px;
      font-size: 1rem;
      width: 100%;
      margin: 10px 0;
    }
    button {
      background-color: #2ecc71;
      color: white;
      border: none;
      cursor: pointer;
    }
    .rule {
      margin: 5px 0;
    }
    .valid {
      color: #4caf50;
    }
    .invalid {
      color: #e74c3c;
    }
  </style>
</head>
<body>
  <h1>ðŸ”’ Devine le mot de passe !</h1>
  <p>Tu dois trouver un seul mot qui respecte toutes les rÃ¨gles. Il y en a 25.</p>
  <input type="text" id="passwordInput" placeholder="Entre ton mot ici...">
  <button onclick="checkPassword()">VÃ©rifier</button>
  <ul id="rulesList"></ul>
  <p id="successMessage" style="font-size: 1.5rem;"></p>

  <script>
    const correctPassword = "MÃ©diapart";
    const input = document.getElementById("passwordInput");
    const rulesList = document.getElementById("rulesList");
    const successMessage = document.getElementById("successMessage");

    const rules = [
      { text: "Le mot contient exactement 9 lettres.", test: w => w.length === 9 },
      { text: "Il commence par une majuscule.", test: w => /^[A-ZÃ‰ÃˆÃ€Ã‚ÃŠÃŽÃ”Ã›]/.test(w) },
      { text: "Il contient au moins une lettre accentuÃ©e.", test: w => /[Ã©Ã¨ÃªÃ«Ã Ã¢Ã¤Ã®Ã¯Ã´Ã¶Ã»Ã¼]/i.test(w) },
      { text: "Il contient au moins une voyelle.", test: w => /[aeiouy]/i.test(w) },
      { text: "Il contient une lettre 'Ã©'.", test: w => w.includes("Ã©") },
      { text: "Il ne contient pas de chiffre.", test: w => !/\d/.test(w) },
      { text: "Il ne contient pas dâ€™espace.", test: w => !/\s/.test(w) },
      { text: "La 4e lettre est un 'i'.", test: w => w[3]?.toLowerCase() === "i" },
      { text: "Il ne contient aucun symbole spÃ©cial.", test: w => /^[A-Za-zÃ©Ã¨ÃªÃ«Ã Ã¢Ã¤Ã®Ã¯Ã´Ã¶Ã»Ã¼]+$/.test(w) },
      { text: "Il contient un 'd'.", test: w => w.toLowerCase().includes("d") },
      { text: "Il contient un 'm' ou un 'M'.", test: w => w.toLowerCase().includes("m") },
      { text: "Il contient au moins 2 consonnes consÃ©cutives.", test: w => /[bcdfghjklmnpqrstvwxz]{2}/i.test(w) },
      { text: "Il ne contient pas deux voyelles identiques consÃ©cutives.", test: w => !/[aeiouy]{2}/i.test(w) },
      { text: "Il se termine par une consonne.", test: w => /[^aeiouy]$/i.test(w) },
      { text: "Il ne contient pas de majuscule sauf la premiÃ¨re.", test: w => w.slice(1) === w.slice(1).toLowerCase() },
      { text: "Il contient exactement 4 voyelles.", test: w => (w.match(/[aeiouyÃ©Ã¨ÃªÃ«Ã Ã¢Ã¤Ã®Ã¯Ã´Ã¶Ã»Ã¼]/gi) || []).length === 4 },
      { text: "Il contient la lettre 'p'.", test: w => w.toLowerCase().includes("p") },
      { text: "La 1Ã¨re et la 9e lettre sont diffÃ©rentes.", test: w => w[0]?.toLowerCase() !== w[8]?.toLowerCase() },
      { text: "Il contient au moins une lettre parmi ['a', 'e', 'i', 'o', 'u'].", test: w => /[aeiou]/i.test(w) },
      { text: "Il contient au moins une lettre parmi ['r', 's', 't', 'l', 'n'].", test: w => /[rstln]/i.test(w) },
      { text: "Il contient exactement 3 lettres issues du mot 'art'.", test: w => (w.match(/[art]/gi) || []).length === 3 },
      { text: "Il nâ€™a pas deux lettres identiques cÃ´te Ã  cÃ´te.", test: w => !/(.)\1/.test(w) },
      { text: "Il contient plus de lettres qu'il y a de voyelles.", test: w => w.replace(/[^a-zÃ©Ã¨ÃªÃ«Ã Ã¢Ã¤Ã®Ã¯Ã´Ã¶Ã»Ã¼]/gi, "").length > (w.match(/[aeiouyÃ©Ã¨ÃªÃ«Ã Ã¢Ã¤Ã®Ã¯Ã´Ã¶Ã»Ã¼]/gi) || []).length },
      { text: "La 8e lettre est 'r'.", test: w => w[7]?.toLowerCase() === 'r' },
      { text: "La premiÃ¨re lettre est diffÃ©rente de la derniÃ¨re.", test: w => w[0]?.toLowerCase() !== w[w.length - 1]?.toLowerCase() }
    ];

    let passedRules = Array(rules.length).fill(false);

    function checkPassword() {
      const value = input.value.trim();
      let allPassed = true;

      rulesList.innerHTML = "";

      rules.forEach((rule, i) => {
        const li = document.createElement("li");
        li.className = "rule";

        if (rule.test(value)) {
          passedRules[i] = true;
          li.classList.add("valid");
        } else {
          allPassed = false;
          passedRules[i] = false;
          li.classList.add("invalid");
        }

        li.textContent = `${i + 1}. ${rule.text}`;
        rulesList.appendChild(li);
      });

      if (allPassed && value === correctPassword) {
        successMessage.textContent = "ðŸŽ‰ Bravo ! Tu as trouvÃ© le mot de passe : MÃ©diapart !";
      } else {
        successMessage.textContent = "";
      }
    }

    checkPassword(); // Affiche toutes les rÃ¨gles dÃ¨s le dÃ©but
  </script>
</body>
</html>
